{% load i18n %}{% load static %}{% load render_bundle from webpack_loader %}<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=960">
    <meta name="google-site-verification" content="pBs4x-E9VGlX-gA7WxCNEqcYB0TYJCSmcZtSeLBpEgk" />
    <title>{% block title %}{{ request.site.name }}{% endblock title %}</title>
    <link rel="shortcut icon" type="image/png" href="{% static FAVICON_PATH %}" >
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="{% static "v1/dist/css/center_style.css" %}" rel="stylesheet">
    {% if request.user.is_curator %}
        <link href="{% static "v1/dist/css/center_staff.css" %}" rel="stylesheet">
    {% endif %}
    {% block hightlight_styles %}
    <link href="{% static "v1/css/vendor/highlight-styles/tomorrow.css" %}" rel="stylesheet">
    {% endblock hightlight_styles %}
    {% block stylesheets %} {% endblock stylesheets %}
    <script>
      (function(){
        try {
          var stored = localStorage.getItem('theme');
          var theme = stored || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
          if (theme === 'dark') { document.documentElement.setAttribute('data-theme', 'dark'); }
        } catch (e) {}
      })();
    </script>
    <style>
      /* Dark theme only: light theme remains untouched */
      html[data-theme="dark"], html[data-theme="dark"] body { background: #111827 !important; color: #F3F4F6 !important; min-height: 100vh; }
      /* Common layout wrappers */
      html[data-theme="dark"] .container,
      html[data-theme="dark"] .row,
      html[data-theme="dark"] .page,
      html[data-theme="dark"] .page-content,
      html[data-theme="dark"] .container-fluid,
      html[data-theme="dark"] body.gray,
      html[data-theme="dark"] .gray { background: #111827 !important; color: #F3F4F6 !important; }
      /* Panels/cards/forms/dropdowns */
      html[data-theme="dark"] .panel, html[data-theme="dark"] .panel-heading, html[data-theme="dark"] .panel-footer,
      html[data-theme="dark"] .well, html[data-theme="dark"] .modal-content, html[data-theme="dark"] .dropdown-menu,
      html[data-theme="dark"] .list-group-item, html[data-theme="dark"] .tab-content,
      html[data-theme="dark"] .breadcrumb, html[data-theme="dark"] .pagination > li > a, html[data-theme="dark"] .pagination > li > span,
      html[data-theme="dark"] .alert { background: #111827 !important; color: #F3F4F6 !important; border-color: #374151 !important; }
      html[data-theme="dark"] .form-control, html[data-theme="dark"] select, html[data-theme="dark"] input, html[data-theme="dark"] textarea { background: #111827 !important; color: #F3F4F6 !important; border-color: #374151 !important; }
      /* Headings/text must be light */
      html[data-theme="dark"] h1, html[data-theme="dark"] h2, html[data-theme="dark"] h3,
      html[data-theme="dark"] h4, html[data-theme="dark"] h5, html[data-theme="dark"] h6,
      html[data-theme="dark"] p, html[data-theme="dark"] li, html[data-theme="dark"] td,
      html[data-theme="dark"] th, html[data-theme="dark"] span { color: #F3F4F6 !important; }
      /* Bootstrap-select */
      html[data-theme="dark"] .bootstrap-select .btn,
      html[data-theme="dark"] .bootstrap-select > .dropdown-toggle { background: #111827 !important; color: #F3F4F6 !important; border-color: #374151 !important; }
      html[data-theme="dark"] .bootstrap-select .dropdown-menu,
      html[data-theme="dark"] .bootstrap-select .filter-option,
      html[data-theme="dark"] .bootstrap-select .filter-option-inner,
      html[data-theme="dark"] .bootstrap-select .filter-option-inner-inner { background: #111827 !important; color: #F3F4F6 !important; }
      /* Top level menu (lvl1) in dark theme */
      html[data-theme="dark"] .menu.lvl1 { background: #111827 !important; color: #F3F4F6 !important; border-color: #374151 !important; }
      html[data-theme="dark"] .menu.lvl1 ul li a { color: #FFFFFF !important; }
      html[data-theme="dark"] .menu.lvl1 ul li.active > a,
      html[data-theme="dark"] .menu.lvl1 ul li a:hover,
      html[data-theme="dark"] .menu.lvl1 ul li a:focus { color: #E5E7EB !important; }
    </style>
    <script>
      // Global Configuration
      window.__CSC__ = {
          config: {
              maxUploadSize: {{ FILE_MAX_UPLOAD_SIZE }},
              csrfCookieName: "{{ CSRF_COOKIE_NAME }}",
              sentryDSN: "{{ SENTRY_DSN }}",
              JS_SRC: {
                MATHJAX: "//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML",
              },
              // Used to reflow editor on tab toggle event
              uberEditors: [],
              localStorage: {
                  // Map from hash to dummy value (effectively a set)
                  hashes: []
              }
          }
      }
    </script>
  </head>

  <body {% block body_attrs %}{% endblock body_attrs %}>
    {% include "_top_menu.html" %}

    {% block content %}
    <div class="container">
      <div class="row">
        <div class="col-xs-12">
          hello world
        </div>
      </div>
    </div>
    {% endblock content %}

    <div class="footer">
      <div class="container">
        <div class="row">
          <div class="col-xs-12 text-center">{{ request.site.name }}, 2024</div>
        </div>
      </div>
    </div>

    {% render_bundle 'vendor' 'js' 'V1' %}
    {% render_bundle 'main' 'js' 'V1' %}

    {% if messages %}
      <script type="text/javascript">
        $(function() {
          $.jGrowl.defaults.closerTemplate = '<div>[{% trans "close all" %}]</div>';
          {% for message in messages %}
            $.jGrowl("{{ message | safe }}", {
                position: 'bottom-right'
                {%  if not message.extra_tags or "timeout" not in message.extra_tags %}, sticky: true{% endif %}
                {% if message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}, theme: 'warning'{% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}, theme: 'error'{% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}, theme: 'info'{% endif %}
            });
          {% endfor %}
        });
      </script>
    {% endif %}

    {% block javascripts %}{% endblock javascripts %}
  </body>
</html>
